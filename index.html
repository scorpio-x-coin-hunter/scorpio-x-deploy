
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blackbeard Services</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #f4f4f4; padding: 20px; }
    h1 { color: gold; }
    .service-card { background: #222; border: 1px solid #444; padding: 15px; margin: 10px 0; border-radius: 8px; }
    .service-card h2 { margin: 0 0 10px; color: #fff; }
    .btn { padding: 10px 15px; background: gold; color: #000; border: none; cursor: pointer; border-radius: 5px; }
    .btn:hover { background: orange; }
    #chat-output { max-height: 300px; overflow-y: auto; background: #1a1a1a; padding: 10px; border: 1px solid #333; margin-bottom: 10px; }
    .chat-msg { margin-bottom: 8px; }
    input, textarea { width: 100%; padding: 8px; margin: 5px 0; border-radius: 5px; border: 1px solid #555; background: #222; color: #fff; }
  </style>
</head>
<body>
  <h1>☠️ Blackbeard Services ☠️</h1>

  <div class="service-card">
    <h2>📄 CV Creation</h2>
    <p>Professional CV creation to help you land the job.</p>
    <button class="btn" onclick="sendCommand('payment cv creation')">💳 Pay Now</button>
    <div id="cv-payment-result"></div>
  </div>

  <div class="service-card">
    <h2>🧠 Study Help</h2>
    <p>Get help with homework, tests, and school projects.</p>
    <button class="btn" onclick="sendCommand('payment study help')">💳 Pay Now</button>
    <div id="study-payment-result"></div>
  </div>

  <div class="service-card">
    <h2>🛒 Online Store Setup</h2>
    <p>We help you build and launch your online shop fast.</p>
    <button class="btn" onclick="sendCommand('payment online store')">💳 Pay Now</button>
    <div id="store-payment-result"></div>
  </div>

  <h2>💬 Chat with Blackbeard</h2>
  <div id="chat-output"></div>
  <input type="text" id="chat-input" placeholder="Type your command here..." />
  <button class="btn" onclick="handleChat()">⚓ Send</button>

  <script>
    async function sendCommand(commandText) {
      const resultId = {
        'payment cv creation': 'cv-payment-result',
        'payment study help': 'study-payment-result',
        'payment online store': 'store-payment-result'
      }[commandText] || 'chat-output';

      const response = await fetch('/command', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: commandText })
      });

      const data = await response.json();
      document.getElementById(resultId).innerHTML = `<a href="${data.reply}" target="_blank" style="color: gold;">${data.reply}</a>`;
    }

    async function handleChat() {
      const input = document.getElementById('chat-input');
      const chatOutput = document.getElementById('chat-output');
      const message = input.value;
      input.value = '';
      chatOutput.innerHTML += `<div class="chat-msg">🧑‍💻 You: ${message}</div>`;

      const response = await fetch('/command', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      });

      const data = await response.json();
      chatOutput.innerHTML += `<div class="chat-msg">🤖 Blackbeard: ${data.reply}</div>`;
      chatOutput.scrollTop = chatOutput.scrollHeight;
    }
  </script>
</body>
</html>